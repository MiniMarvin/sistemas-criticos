THEORY ProofList IS
_f(1) & _f(2) & _f(3) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & WellDefinedness_addAllocatedVirtualMachine.3,(_f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(31) => _f(32));
_f(1) & _f(2) & _f(3) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & WellDefinedness_addAllocatedVirtualMachine.2,(_f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(31) => _f(32));
_f(1) & _f(2) & _f(3) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & WellDefinedness_addAllocatedVirtualMachine.1,(_f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(31) => _f(32));
_f(1) & _f(2) & _f(3) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_addAllocatedVirtualMachine.6,(_f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(4) => _f(30));
_f(1) & _f(2) & _f(3) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_addAllocatedVirtualMachine.5,(_f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(4) => _f(29));
_f(1) & _f(2) & _f(3) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_addAllocatedVirtualMachine.4,(_f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(4) => _f(28));
_f(1) & _f(2) & _f(3) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_addAllocatedVirtualMachine.3,(_f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(4) => _f(27));
_f(1) & _f(2) & _f(3) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_addAllocatedVirtualMachine.2,(_f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(4) => _f(26));
_f(1) & _f(2) & _f(3) & _f(11) & _f(12) & _f(13) & _f(14) & _f(15) & Operation_addAllocatedVirtualMachine.1,(_f(16) & _f(17) & _f(18) & _f(19) & _f(20) & _f(21) & _f(22) & _f(23) & _f(24) & _f(4) => _f(25));
_f(1) & _f(2) & _f(3) & Initialisation.6,(_f(4) => _f(10));
_f(1) & _f(2) & _f(3) & Initialisation.5,(_f(4) => _f(9));
_f(1) & _f(2) & _f(3) & Initialisation.4,(_f(4) => _f(8));
_f(1) & _f(2) & _f(3) & Initialisation.3,(_f(4) => _f(7));
_f(1) & _f(2) & _f(3) & Initialisation.2,(_f(4) => _f(6));
_f(1) & _f(2) & _f(3) & Initialisation.1,(_f(4) => _f(5))
END
&
THEORY Formulas IS
((NAT) = (((0) .. (2147483647)))) & ((INT) = (((-2147483647) .. (2147483647))));
VIRTUAL_MACHINES: FIN(INTEGER) & not(VIRTUAL_MACHINES = {}) & VM_CATEGORIES: FIN(INTEGER) & not(VM_CATEGORIES = {}) & USERS: FIN(INTEGER) & not(USERS = {}) & MACHINE_RESOURCES: FIN(INTEGER) & not(MACHINE_RESOURCES = {}) & ((allocated) : (VM_CATEGORIES)) & ((spot) : (VM_CATEGORIES)) & ((admin) : (USERS));
((MACHINE_RESOURCES) : (FIN(MACHINE_RESOURCES))) & machineResources : POW( MACHINE_RESOURCES) & ((machineResourceProperties) : (((machineResources) +-> (struct(cpu$8888 >> NAT,hdd$8888 >> NAT,mem$8888 >> NAT))))) & ((USERS) : (FIN(USERS))) & admins : POW( USERS) & clients : POW( USERS) & ((((admins) /\ (clients))) = ({})) & not(((admins) = ({})));
"Invariant is preserved";
((VIRTUAL_MACHINES) : (FIN(VIRTUAL_MACHINES)));
((VM_CATEGORIES) : (FIN(VM_CATEGORIES)));
({allocated}\/{spot}) : POW( VM_CATEGORIES);
(({}) : ((({}) +-> (struct(category$8888 >> VM_CATEGORIES,cpu$8888 >> NAT,hdd$8888 >> NAT,mem$8888 >> NAT,owner$8888 >> USERS,residentMachine$8888 >> MACHINE_RESOURCES)))));
(((({}) \/ ({}))) = ({}));
(((({}) /\ ({}))) = ({}));
((VIRTUAL_MACHINES) : (FIN(VIRTUAL_MACHINES))) & ((VM_CATEGORIES) : (FIN(VM_CATEGORIES))) & vmCategories : POW( VM_CATEGORIES) & virtualMachines : POW( VIRTUAL_MACHINES) & ((virtualMachineProperties) : (((virtualMachines) +-> (struct(category$8888 >> VM_CATEGORIES,cpu$8888 >> NAT,hdd$8888 >> NAT,mem$8888 >> NAT,owner$8888 >> USERS,residentMachine$8888 >> MACHINE_RESOURCES))))) & spotVirtualMachines : POW( virtualMachines) & allocatedVirtualMachines : POW( virtualMachines) & ((((spotVirtualMachines) \/ (allocatedVirtualMachines))) = (virtualMachines)) & ((((spotVirtualMachines) /\ (allocatedVirtualMachines))) = ({}));
((cpu) : (NAT));
((hdd) : (NAT));
((mem) : (NAT));
((client) : (clients));
((vm) : (VIRTUAL_MACHINES));
not(((vm) : (virtualMachines)));
not(((vm) : (spotVirtualMachines)));
not(((vm) : (allocatedVirtualMachines)));
((machine) : (machineResources));
((machine) : (dom(machineResourceProperties)));
(cpu <= ((machineResourceProperties )(machine)'cpu));
(hdd <= ((machineResourceProperties )(machine)'hdd));
(mem <= ((machineResourceProperties )(machine)'mem));
((virtualMachines) \/ (({vm}))) : POW( VIRTUAL_MACHINES);
((((virtualMachineProperties) <+ (({((vm) |-> (rec(category$8888 >> allocated,cpu$8888 >> cpu,hdd$8888 >> hdd,mem$8888 >> mem,owner$8888 >> client,residentMachine$8888 >> machine)))})))) : (((((virtualMachines) \/ (({vm})))) +-> (struct(category$8888 >> VM_CATEGORIES,cpu$8888 >> NAT,hdd$8888 >> NAT,mem$8888 >> NAT,owner$8888 >> USERS,residentMachine$8888 >> MACHINE_RESOURCES)))));
spotVirtualMachines : POW( ((virtualMachines) \/ (({vm}))));
((allocatedVirtualMachines) \/ (({vm}))) : POW( ((virtualMachines) \/ (({vm}))));
((((spotVirtualMachines) \/ (((allocatedVirtualMachines) \/ (({vm})))))) = (((virtualMachines) \/ (({vm})))));
((((spotVirtualMachines) /\ (((allocatedVirtualMachines) \/ (({vm})))))) = ({}));
"Operation is well defined";
((machineResourceProperties) : (((dom(machineResourceProperties)) +-> (ran(machineResourceProperties)))))
END
&
THEORY EnumerateX
END
