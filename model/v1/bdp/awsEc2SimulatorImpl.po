THEORY ProofList IS
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(184) & _f(185) & _f(183) & WellDefinedness_getBillingForUser.6,(_f(45) & _f(120) & _f(115) & _f(135) => _f(177));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(184) & _f(185) & _f(183) & WellDefinedness_getBillingForUser.5,(_f(45) & _f(120) & _f(115) & _f(94) & _f(186) & _f(98) & _f(135) => _f(173));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(184) & _f(185) & _f(183) & WellDefinedness_getBillingForUser.4,(_f(45) & _f(120) & _f(115) & _f(94) & _f(186) & _f(98) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(184) & _f(185) & _f(183) & WellDefinedness_getBillingForUser.3,(_f(45) & _f(120) & _f(115) & _f(94) & _f(186) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(184) & _f(185) & _f(183) & WellDefinedness_getBillingForUser.2,(_f(45) & _f(120) & _f(115) & _f(94) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(184) & _f(185) & _f(183) & WellDefinedness_getBillingForUser.1,(_f(45) & _f(120) & _f(115) & _f(135) => _f(187));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(166) & _f(169) & WellDefinedness_getBillingForRunningVM.7,(_f(93) & _f(95) & _f(98) & _f(135) => _f(173));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(166) & _f(169) & WellDefinedness_getBillingForRunningVM.6,(_f(93) & _f(95) & _f(98) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(166) & _f(169) & WellDefinedness_getBillingForRunningVM.5,(_f(93) & _f(95) & _f(98) & _f(135) => _f(94));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(166) & _f(169) & WellDefinedness_getBillingForRunningVM.4,(_f(93) & _f(95) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(166) & _f(169) & WellDefinedness_getBillingForRunningVM.3,(_f(93) & _f(95) & _f(135) => _f(94));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(166) & _f(169) & WellDefinedness_getBillingForRunningVM.2,(_f(93) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(166) & _f(169) & WellDefinedness_getBillingForRunningVM.1,(_f(93) & _f(135) => _f(94));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(114) & _f(27) & _f(183) & WellDefinedness_listVmsForUser.1,(_f(115) & _f(94) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(179) & _f(180) & WellDefinedness_getAllocatedCpuOnMachine.3,(_f(109) & _f(110) & _f(94) & _f(181) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(179) & _f(180) & WellDefinedness_getAllocatedCpuOnMachine.2,(_f(109) & _f(110) & _f(94) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(179) & _f(180) & WellDefinedness_getAllocatedCpuOnMachine.1,(_f(109) & _f(110) & _f(135) => _f(182));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(179) & _f(180) & WellDefinedness_getAllocatedVmsOnMachine.2,(_f(109) & _f(110) & _f(93) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(179) & _f(180) & WellDefinedness_getAllocatedVmsOnMachine.1,(_f(109) & _f(110) & _f(93) & _f(135) => _f(94));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(165) & _f(166) & _f(167) & _f(168) & _f(169) & _f(170) & _f(171) & _f(172) & WellDefinedness_removeVirtualMachine.14,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(99) & _f(100) & _f(101) & _f(135) => _f(173));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(165) & _f(166) & _f(167) & _f(168) & _f(169) & _f(170) & _f(171) & _f(172) & WellDefinedness_removeVirtualMachine.13,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(99) & _f(100) & _f(101) & _f(135) => _f(178));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(165) & _f(166) & _f(167) & _f(168) & _f(169) & _f(170) & _f(171) & _f(172) & WellDefinedness_removeVirtualMachine.12,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(99) & _f(100) & _f(101) & _f(135) => _f(177));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(165) & _f(166) & _f(167) & _f(168) & _f(169) & _f(170) & _f(171) & _f(172) & WellDefinedness_removeVirtualMachine.11,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(99) & _f(100) & _f(101) & _f(135) => _f(176));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(165) & _f(166) & _f(167) & _f(168) & _f(169) & _f(170) & _f(171) & _f(172) & WellDefinedness_removeVirtualMachine.10,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(99) & _f(100) & _f(101) & _f(135) => _f(175));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(165) & _f(166) & _f(167) & _f(168) & _f(169) & _f(170) & _f(171) & _f(172) & WellDefinedness_removeVirtualMachine.9,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(99) & _f(100) & _f(101) & _f(135) => _f(174));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(165) & _f(166) & _f(167) & _f(168) & _f(169) & _f(170) & _f(171) & _f(172) & WellDefinedness_removeVirtualMachine.8,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(99) & _f(100) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(165) & _f(166) & _f(167) & _f(168) & _f(169) & _f(170) & _f(171) & _f(172) & WellDefinedness_removeVirtualMachine.7,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(99) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(165) & _f(166) & _f(167) & _f(168) & _f(169) & _f(170) & _f(171) & _f(172) & WellDefinedness_removeVirtualMachine.6,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(135) => _f(173));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(165) & _f(166) & _f(167) & _f(168) & _f(169) & _f(170) & _f(171) & _f(172) & WellDefinedness_removeVirtualMachine.5,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(165) & _f(166) & _f(167) & _f(168) & _f(169) & _f(170) & _f(171) & _f(172) & WellDefinedness_removeVirtualMachine.4,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(165) & _f(166) & _f(167) & _f(168) & _f(169) & _f(170) & _f(171) & _f(172) & WellDefinedness_removeVirtualMachine.3,(_f(93) & _f(94) & _f(95) & _f(96) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(165) & _f(166) & _f(167) & _f(168) & _f(169) & _f(170) & _f(171) & _f(172) & WellDefinedness_removeVirtualMachine.2,(_f(93) & _f(94) & _f(95) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(164) & _f(165) & _f(166) & _f(167) & _f(168) & _f(169) & _f(170) & _f(171) & _f(172) & WellDefinedness_removeVirtualMachine.1,(_f(93) & _f(94) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.25,(_f(68) & _f(69) & _f(70) & _f(90) & _f(135) => _f(154));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.24,(_f(68) & _f(69) & _f(70) & _f(87) & _f(88) & _f(89) & _f(135) => _f(159));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.23,(_f(68) & _f(69) & _f(70) & _f(87) & _f(88) & _f(89) & _f(135) => _f(158));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.22,(_f(68) & _f(69) & _f(70) & _f(87) & _f(88) & _f(135) => _f(161));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.21,(_f(68) & _f(69) & _f(70) & _f(87) & _f(88) & _f(135) => _f(160));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.20,(_f(68) & _f(69) & _f(70) & _f(87) & _f(88) & _f(135) => _f(154));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.19,(_f(68) & _f(69) & _f(70) & _f(87) & _f(135) => _f(161));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.18,(_f(68) & _f(69) & _f(70) & _f(87) & _f(135) => _f(160));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.17,(_f(68) & _f(69) & _f(70) & _f(87) & _f(135) => _f(154));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.16,(_f(68) & _f(69) & _f(70) & _f(135) => _f(161));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.15,(_f(68) & _f(69) & _f(70) & _f(135) => _f(160));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.14,(_f(68) & _f(69) & _f(70) & _f(135) => _f(154));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.13,(_f(68) & _f(69) & _f(70) & _f(135) => _f(159));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.12,(_f(68) & _f(69) & _f(70) & _f(135) => _f(158));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.11,(_f(68) & _f(69) & _f(70) & _f(144) & _f(145) & _f(135) => _f(157));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.10,(_f(68) & _f(69) & _f(70) & _f(144) & _f(145) & _f(135) => _f(156));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.9,(_f(68) & _f(69) & _f(70) & _f(144) & _f(135) => _f(157));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.8,(_f(68) & _f(69) & _f(70) & _f(144) & _f(135) => _f(156));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.7,(_f(68) & _f(69) & _f(70) & _f(135) => _f(163));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.6,(_f(68) & _f(69) & _f(135) => _f(154));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.5,(_f(68) & _f(69) & _f(135) => _f(153));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.4,(_f(68) & _f(135) => _f(152));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.3,(_f(68) & _f(135) => _f(151));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.2,(_f(68) & _f(124) & _f(135) => _f(131));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addSpotVirtualMachine.1,(_f(68) & _f(124) & _f(135) => _f(130));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.31,(_f(68) & _f(69) & _f(70) & _f(74) & _f(135) => _f(154));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.30,(_f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(73) & _f(149) & _f(150) & _f(135) => _f(162));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.29,(_f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(73) & _f(149) & _f(135) => _f(162));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.28,(_f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(73) & _f(147) & _f(148) & _f(135) => _f(157));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.27,(_f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(73) & _f(147) & _f(135) => _f(157));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.26,(_f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(73) & _f(135) => _f(159));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.25,(_f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(73) & _f(135) => _f(158));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.24,(_f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(135) => _f(161));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.23,(_f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(135) => _f(160));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.22,(_f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(135) => _f(154));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.21,(_f(68) & _f(69) & _f(70) & _f(71) & _f(135) => _f(161));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.20,(_f(68) & _f(69) & _f(70) & _f(71) & _f(135) => _f(160));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.19,(_f(68) & _f(69) & _f(70) & _f(71) & _f(135) => _f(154));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.18,(_f(68) & _f(69) & _f(70) & _f(135) => _f(161));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.17,(_f(68) & _f(69) & _f(70) & _f(135) => _f(160));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.16,(_f(68) & _f(69) & _f(70) & _f(135) => _f(154));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.15,(_f(68) & _f(69) & _f(70) & _f(135) => _f(159));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.14,(_f(68) & _f(69) & _f(70) & _f(135) => _f(158));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.13,(_f(68) & _f(69) & _f(70) & _f(144) & _f(145) & _f(146) & _f(135) => _f(157));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.12,(_f(68) & _f(69) & _f(70) & _f(144) & _f(145) & _f(146) & _f(135) => _f(156));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.11,(_f(68) & _f(69) & _f(70) & _f(144) & _f(145) & _f(135) => _f(157));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.10,(_f(68) & _f(69) & _f(70) & _f(144) & _f(145) & _f(135) => _f(156));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.9,(_f(68) & _f(69) & _f(70) & _f(144) & _f(135) => _f(157));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.8,(_f(68) & _f(69) & _f(70) & _f(144) & _f(135) => _f(156));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.7,(_f(68) & _f(69) & _f(70) & _f(135) => _f(155));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.6,(_f(68) & _f(69) & _f(135) => _f(154));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.5,(_f(68) & _f(69) & _f(135) => _f(153));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.4,(_f(68) & _f(135) => _f(152));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.3,(_f(68) & _f(135) => _f(151));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.2,(_f(68) & _f(124) & _f(135) => _f(131));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(143) & WellDefinedness_addAllocatedVirtualMachine.1,(_f(68) & _f(124) & _f(135) => _f(130));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(140) & _f(140) & _f(134) & _f(141) & WellDefinedness_removeResource.2,(_f(63) & _f(30) & _f(93) & _f(135) => _f(142));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(140) & _f(140) & _f(134) & _f(141) & WellDefinedness_removeResource.1,(_f(63) & _f(30) & _f(93) & _f(135) => _f(94));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(134) & WellDefinedness_addResource.2,(_f(30) & _f(135) => _f(139));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(56) & _f(57) & _f(58) & _f(134) & WellDefinedness_addResource.1,(_f(30) & _f(135) => _f(138));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(134) & WellDefinedness_addArbitraryClient.2,(_f(30) & _f(135) => _f(137));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & _f(134) & WellDefinedness_addArbitraryClient.1,(_f(30) & _f(135) => _f(136));
_f(1) & _f(2) & _f(3) & WellDefinednessInitialisation.8,(_f(125) & _f(126) => _f(133));
_f(1) & _f(2) & _f(3) & WellDefinednessInitialisation.7,(_f(125) & _f(126) => _f(132));
_f(1) & _f(2) & _f(3) & WellDefinednessInitialisation.6,(_f(124) & _f(126) => _f(131));
_f(1) & _f(2) & _f(3) & WellDefinednessInitialisation.5,(_f(124) & _f(126) => _f(130));
_f(1) & _f(2) & _f(3) & WellDefinednessInitialisation.4,(_f(123) & _f(126) => _f(129));
_f(1) & _f(2) & _f(3) & WellDefinednessInitialisation.3,(_f(123) & _f(126) => _f(128));
_f(1) & _f(2) & _f(3) & WellDefinednessInitialisation.2,(_f(123) & _f(126) => _f(127));
_f(1) & _f(2) & _f(3) & WellDefinednessInitialisation.1,(_f(126) => _f(127));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_getBillingForUser.1,(_f(45) & _f(120) & _f(115) & _f(121) & _f(4) => _f(122));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_getBillingForRunningVM.1,(_f(93) & _f(95) & _f(98) & _f(118) & _f(4) => _f(119));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_listVmsForUser.1,(_f(114) & _f(27) & _f(115) & _f(116) & _f(4) => _f(117));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_getAllocatedCpuOnMachine.1,(_f(109) & _f(110) & _f(111) & _f(4) => _f(113));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_getAllocatedVmsOnMachine.1,(_f(109) & _f(110) & _f(111) & _f(4) => _f(112));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_removeVirtualMachine.6,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(99) & _f(100) & _f(101) & _f(102) & _f(4) => _f(108));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_removeVirtualMachine.5,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(99) & _f(100) & _f(101) & _f(102) & _f(4) => _f(107));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_removeVirtualMachine.4,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(99) & _f(100) & _f(101) & _f(102) & _f(4) => _f(106));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_removeVirtualMachine.3,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(99) & _f(100) & _f(101) & _f(102) & _f(4) => _f(105));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_removeVirtualMachine.2,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(99) & _f(100) & _f(101) & _f(102) & _f(4) => _f(104));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_removeVirtualMachine.1,(_f(93) & _f(94) & _f(95) & _f(96) & _f(97) & _f(98) & _f(99) & _f(100) & _f(101) & _f(4) => _f(103));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addSpotVirtualMachine.7,(_f(56) & _f(57) & _f(58) & _f(68) & _f(76) & _f(4) => _f(92));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addSpotVirtualMachine.6,(_f(56) & _f(57) & _f(58) & _f(68) & _f(69) & _f(75) & _f(83) => _f(91));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addSpotVirtualMachine.5,(_f(56) & _f(57) & _f(58) & _f(68) & _f(69) & _f(75) & _f(83) => _f(84));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addSpotVirtualMachine.4,(_f(56) & _f(57) & _f(58) & _f(68) & _f(69) & _f(70) & _f(90) & _f(80) => _f(82));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addSpotVirtualMachine.3,(_f(56) & _f(57) & _f(58) & _f(68) & _f(69) & _f(70) & _f(87) & _f(88) & _f(89) & _f(80) => _f(81));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addSpotVirtualMachine.2,(_f(56) & _f(57) & _f(58) & _f(68) & _f(69) & _f(78) => _f(79));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addSpotVirtualMachine.1,(_f(56) & _f(57) & _f(58) & _f(68) & _f(77) => _f(69));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addAllocatedVirtualMachine.7,(_f(56) & _f(57) & _f(58) & _f(68) & _f(76) & _f(4) => _f(86));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addAllocatedVirtualMachine.6,(_f(56) & _f(57) & _f(58) & _f(68) & _f(69) & _f(75) & _f(83) => _f(85));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addAllocatedVirtualMachine.5,(_f(56) & _f(57) & _f(58) & _f(68) & _f(69) & _f(75) & _f(83) => _f(84));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addAllocatedVirtualMachine.4,(_f(56) & _f(57) & _f(58) & _f(68) & _f(69) & _f(70) & _f(74) & _f(80) => _f(82));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addAllocatedVirtualMachine.3,(_f(56) & _f(57) & _f(58) & _f(68) & _f(69) & _f(70) & _f(71) & _f(72) & _f(73) & _f(80) => _f(81));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addAllocatedVirtualMachine.2,(_f(56) & _f(57) & _f(58) & _f(68) & _f(69) & _f(78) => _f(79));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addAllocatedVirtualMachine.1,(_f(56) & _f(57) & _f(58) & _f(68) & _f(77) => _f(69));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_removeResource.2,(_f(63) & _f(30) & _f(64) & _f(65) & _f(4) => _f(67));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_removeResource.1,(_f(63) & _f(30) & _f(64) & _f(65) & _f(4) => _f(66));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addResource.3,(_f(56) & _f(57) & _f(58) & _f(30) & _f(59) & _f(4) => _f(62));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addResource.2,(_f(56) & _f(57) & _f(58) & _f(30) & _f(4) => _f(61));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addResource.1,(_f(56) & _f(57) & _f(58) & _f(30) & _f(4) => _f(60));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_tickTimer.2,(_f(53) & _f(4) => _f(55));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_tickTimer.1,(_f(52) & _f(4) => _f(54));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_listClients.1,(_f(27) & _f(30) & _f(50) & _f(4) => _f(51));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_removeClient.2,(_f(27) & _f(45) & _f(30) & _f(46) & _f(47) & _f(4) => _f(49));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_removeClient.1,(_f(27) & _f(45) & _f(30) & _f(46) & _f(47) & _f(4) => _f(48));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_removeAdmin.2,(_f(27) & _f(39) & _f(40) & _f(30) & _f(42) & _f(4) => _f(44));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_removeAdmin.1,(_f(27) & _f(39) & _f(40) & _f(30) & _f(41) & _f(4) => _f(43));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addAdmin.2,(_f(27) & _f(28) & _f(29) & _f(30) & _f(24) & _f(36) & _f(4) => _f(38));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addAdmin.1,(_f(27) & _f(28) & _f(29) & _f(30) & _f(24) & _f(4) => _f(37));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addArbitraryClient.2,(_f(30) & _f(4) => _f(35));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addArbitraryClient.1,(_f(30) & _f(4) => _f(34));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addClient.2,(_f(27) & _f(28) & _f(29) & _f(30) & _f(24) & _f(31) & _f(4) => _f(33));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_addClient.1,(_f(27) & _f(28) & _f(29) & _f(30) & _f(24) & _f(31) & _f(4) => _f(32));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_login.1,(_f(22) & _f(23) & _f(25) & _f(4) => _f(26));
_f(1) & _f(2) & _f(3) & _f(10) & _f(11) & Operation_setInstanceRating.1,(_f(12) & _f(13) & _f(14) & _f(15) & _f(16) & _f(20) & _f(4) => _f(21));
_f(1) & _f(2) & _f(3) & Initialisation.5,(_f(4) => _f(9));
_f(1) & _f(2) & _f(3) & Initialisation.4,(_f(4) => _f(8));
_f(1) & _f(2) & _f(3) & Initialisation.3,(_f(4) => _f(7));
_f(1) & _f(2) & _f(3) & Initialisation.2,(_f(4) => _f(6));
_f(1) & _f(2) & _f(3) & Initialisation.1,(_f(4) => _f(5))
END
&
THEORY Formulas IS
((NAT) = (((0) .. (2147483647)))) & ((INT) = (((-2147483647) .. (2147483647))));
USERS: FIN(INTEGER) & not(USERS = {}) & MACHINE_RESOURCES: FIN(INTEGER) & not(MACHINE_RESOURCES = {}) & VIRTUAL_MACHINES: FIN(INTEGER) & not(VIRTUAL_MACHINES = {}) & VM_CATEGORIES: FIN(INTEGER) & not(VM_CATEGORIES = {}) & ((allocated) : (VM_CATEGORIES)) & ((spot) : (VM_CATEGORIES)) & not(((allocated) = (spot))) & ((admin) : (USERS)) & ((none) : (USERS)) & not(((admin) = (none)));
((USERS) : (FIN(USERS))) & ((VM_CATEGORIES) : (FIN(VM_CATEGORIES))) & ((VIRTUAL_MACHINES) : (FIN(VIRTUAL_MACHINES))) & ((MACHINE_RESOURCES) : (FIN(MACHINE_RESOURCES)));
"Refinement is correct";
((0) : (NAT));
((%(ss).(((ss) : (((1) .. (card((USERS - ({admin}\/{none}))))))) | ((((1) .. (card((USERS - ({admin}\/{none}))))) * (USERS - ({admin}\/{none}))) )((((ss - 1) * card((USERS - ({admin}\/{none})))) + ss)))) : (iseq(USERS)));
((%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))) : (iseq(MACHINE_RESOURCES)));
((%(ss).(((ss) : (((1) .. (card(VIRTUAL_MACHINES))))) | ((((1) .. (card(VIRTUAL_MACHINES))) * VIRTUAL_MACHINES) )((((ss - 1) * card(VIRTUAL_MACHINES)) + ss)))) : (iseq(VIRTUAL_MACHINES)));
((({admin})) : (FIN(({admin}))));
((currentUser) : (USERS)) & admins : POW( USERS) & clients : POW( USERS) & ((((admins) /\ (clients))) = ({})) & not(((admins) = ({}))) & currentTime : INTEGER & 0 <= currentTime & ((currentTime) : (NATURAL)) & ((MACHINE_RESOURCES) : (FIN(MACHINE_RESOURCES))) & machineResources : POW( MACHINE_RESOURCES) & machineResourceProperties : machineResources +-> struct(cpu$8888 >> (NAT-{0}),hdd$8888 >> (NAT-{0}),mem$8888 >> (NAT-{0})) & dom(machineResourceProperties) = machineResources & ((machineResourceProperties) : (((machineResources) --> (struct(cpu$8888 >> (NAT-{0}),hdd$8888 >> (NAT-{0}),mem$8888 >> (NAT-{0})))))) & ((VIRTUAL_MACHINES) : (FIN(VIRTUAL_MACHINES))) & ((VM_CATEGORIES) : (FIN(VM_CATEGORIES))) & vmCategories : POW( VM_CATEGORIES) & virtualMachines : POW( VIRTUAL_MACHINES) & ((virtualMachines) : (FIN(virtualMachines))) & virtualMachineProperties : virtualMachines +-> struct(category$8888 >> VM_CATEGORIES,cpu$8888 >> (NAT-{0}),hdd$8888 >> (NAT-{0}),mem$8888 >> (NAT-{0}),owner$8888 >> USERS,residentMachine$8888 >> MACHINE_RESOURCES,startTime$8888 >> NAT) & dom(virtualMachineProperties) = virtualMachines & ((virtualMachineProperties) : (((virtualMachines) --> (struct(category$8888 >> VM_CATEGORIES,cpu$8888 >> (NAT-{0}),hdd$8888 >> (NAT-{0}),mem$8888 >> (NAT-{0}),owner$8888 >> USERS,residentMachine$8888 >> MACHINE_RESOURCES,startTime$8888 >> NAT))))) & ((virtualMachineProperties) : (FIN(virtualMachineProperties))) & spotVirtualMachines : POW( virtualMachines) & allocatedVirtualMachines : POW( virtualMachines) & ((((spotVirtualMachines) \/ (allocatedVirtualMachines))) = (virtualMachines)) & ((((spotVirtualMachines) /\ (allocatedVirtualMachines))) = ({})) & ((finishedInstanceCost) : (((USERS) +-> (NAT)))) & ((instanceRating) : (((({allocated}\/{spot})) +-> (struct(cpu$8888 >> NAT,hdd$8888 >> NAT,mem$8888 >> NAT)))));
((machineResources) = (machineResources$1)) & ((machineResourceProperties) = (machineResourceProperties$1)) & ((admins) = (admins$1)) & ((clients) = (clients$1)) & ((virtualMachines) = (virtualMachines$1)) & ((virtualMachineProperties) = (virtualMachineProperties$1)) & ((vmCategories) = (vmCategories$1)) & ((spotVirtualMachines) = (spotVirtualMachines$1)) & ((allocatedVirtualMachines) = (allocatedVirtualMachines$1)) & ((currentTime) = (currentTime$1)) & ((instanceRating) = (instanceRating$1)) & ((finishedInstanceCost) = (finishedInstanceCost$1)) & ((currentUser) = (currentUser$1)) & ((currentTime$1) : (NAT)) & userSeq$1 : seq(USERS) & userSeq$1 : NATURAL-{0} +-> USERS & userSeq$1 ~ : USERS +-> NATURAL-{0} & ((userSeq$1) : (iseq(USERS))) & mrSeq$1 : seq(MACHINE_RESOURCES) & mrSeq$1 : NATURAL-{0} +-> MACHINE_RESOURCES & mrSeq$1 ~ : MACHINE_RESOURCES +-> NATURAL-{0} & ((mrSeq$1) : (iseq(MACHINE_RESOURCES))) & vmSeq$1 : seq(VIRTUAL_MACHINES) & vmSeq$1 : NATURAL-{0} +-> VIRTUAL_MACHINES & vmSeq$1 ~ : VIRTUAL_MACHINES +-> NATURAL-{0} & ((vmSeq$1) : (iseq(VIRTUAL_MACHINES))) & ((admins$1) : (FIN(admins$1)));
((instanceType) : (({allocated}\/{spot})));
((cpuRating) : ((NAT-{0})));
((hddRating) : ((NAT-{0})));
((memRating) : ((NAT-{0})));
((currentUser$1) : (({admin})));
(0 +1 <= cpuRating);
(0 +1 <= hddRating);
(0 +1 <= memRating);
not((0 +1 <= cpuRating) & (0 +1 <= hddRating) & (0 +1 <= memRating));
((((instanceRating$1) <+ (({((instanceType) |-> (rec(cpu$8888 >> cpuRating,hdd$8888 >> hddRating,mem$8888 >> memRating)))})))) = (instanceRating$1));
((currentUser$1) = (none));
((user) : (((admins$1) \/ (clients$1))));
not(((user) = (none)));
((user) = (none));
((user) = (currentUser$1));
((user) : (USERS));
not(((user) : (clients$1)));
not(((user) : (admins$1)));
((currentUser$1) : (admins$1));
not(not(((user) : (clients$1))) & not(((user) : (admins$1))) & ((currentUser$1) : (admins$1)) & not(((user) = (none))));
((((clients$1) \/ (({user})))) = (clients$1));
((((finishedInstanceCost$1) <+ (({((user) |-> (0))})))) = (finishedInstanceCost$1));
((tail(userSeq$1)) : (iseq(USERS)));
#(client).(((client) : (USERS)) & not(((client) : (clients$1))) & not(((client) : (admins$1))) & not(((client) = (none))) & ((((clients$1) \/ (({client})))) = (((clients$1) \/ (({first(userSeq$1)}))))) & ((((finishedInstanceCost$1) <+ (({((client) |-> (0))})))) = (((finishedInstanceCost$1) <+ (({((first(userSeq$1)) |-> (0))}))))));
not(((user) : (USERS)) & not(((user) : (clients$1))) & not(((user) : (admins$1))) & not(((user) = (none))));
((((admins$1) \/ (({user})))) : (FIN(((admins$1) \/ (({user}))))));
((((admins$1) \/ (({user})))) = (admins$1));
((user) : (admins$1));
not((((admins$1 - ({user}))) = ({})));
(1 +1 <= card(admins$1));
not(((user) : (USERS)) & ((user) : (admins$1)) & (1 +1 <= card(admins$1)) & ((currentUser$1) : (admins$1)));
(((admins$1 - ({user}))) : (FIN((admins$1 - ({user})))));
(((admins$1 - ({user}))) = (admins$1));
((user) : (clients$1));
((SET(vmp).(((vmp) : (ran(virtualMachineProperties$1))) & (((vmp'owner)) = (user)))) = ({}));
not(((user) : (USERS)) & ((user) : (clients$1)) & ((currentUser$1) : (admins$1)) & ((SET(vmp).(((vmp) : (ran(virtualMachineProperties$1))) & (((vmp'owner)) = (user)))) = ({})));
(((clients$1 - ({user}))) = (clients$1));
((((({user})) <<| (finishedInstanceCost$1))) = (finishedInstanceCost$1));
not(((user) : (USERS)) & ((currentUser$1) : (admins$1)));
((clientList$1) = (clients$1));
(currentTime$1 +1 <= 10000);
not((currentTime$1 +1 <= 10000));
(((currentTime$1 + 1)) : (NAT));
(((currentTime$1 + 1)) = (currentTime$1));
((cpu) : ((NAT-{0})));
((hdd) : ((NAT-{0})));
((mem) : ((NAT-{0})));
not(((cpu) : ((NAT-{0}))) & ((hdd) : ((NAT-{0}))) & ((mem) : ((NAT-{0}))) & ((currentUser$1) : (admins$1)));
((tail(mrSeq$1)) : (iseq(MACHINE_RESOURCES)));
#(resource).(((resource) : (MACHINE_RESOURCES)) & not(((resource) : (machineResources$1))) & not(((resource) : (dom(machineResourceProperties$1)))) & ((((machineResources$1) \/ (({resource})))) = (((machineResources$1) \/ (({first(mrSeq$1)}))))) & ((((machineResourceProperties$1) <+ (({((resource) |-> (rec(cpu$8888 >> cpu,hdd$8888 >> hdd,mem$8888 >> mem)))})))) = (((machineResourceProperties$1) <+ (({((first(mrSeq$1)) |-> (rec(cpu$8888 >> cpu,hdd$8888 >> hdd,mem$8888 >> mem)))}))))));
#(resource).(((resource) : (MACHINE_RESOURCES)) & not(((resource) : (machineResources$1))) & not(((resource) : (dom(machineResourceProperties$1)))) & ((((machineResources$1) \/ (({resource})))) = (machineResources$1)) & ((((machineResourceProperties$1) <+ (({((resource) |-> (rec(cpu$8888 >> cpu,hdd$8888 >> hdd,mem$8888 >> mem)))})))) = (machineResourceProperties$1)));
((resource) : (machineResources$1));
((SET(vm).(((vm) : (virtualMachines$1)) & ((((virtualMachineProperties$1 )(vm)'residentMachine)) = (resource)))) = ({}));
not(((resource) : (machineResources$1)) & ((resource) : (machineResources$1)) & ((currentUser$1) : (admins$1)) & ((SET(vm).(((vm) : (virtualMachines$1)) & ((((virtualMachineProperties$1 )(vm)'residentMachine)) = (resource)))) = ({})));
(((machineResources$1 - ({resource}))) = (machineResources$1));
((((({resource})) <<| (machineResourceProperties$1))) = (machineResourceProperties$1));
((client) : (clients$1));
((first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss))))) : (machineResources$1));
not(((machineSeq) = ({})));
(SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))) & ((((virtualMachineProperties$2 )(virtualMachine)'category)) = (allocated)) | ((virtualMachineProperties$2 )(virtualMachine)'cpu)) +1 <= ((machineResourceProperties$1 )(first(machineSeq))'cpu));
(SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))) & ((((virtualMachineProperties$2 )(virtualMachine)'category)) = (allocated)) | ((virtualMachineProperties$2 )(virtualMachine)'mem)) +1 <= ((machineResourceProperties$1 )(first(machineSeq))'mem));
(SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))) & ((((virtualMachineProperties$2 )(virtualMachine)'category)) = (allocated)) | ((virtualMachineProperties$2 )(virtualMachine)'hdd)) +1 <= ((machineResourceProperties$1 )(first(machineSeq))'hdd));
not((SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))) & ((((virtualMachineProperties$2 )(virtualMachine)'category)) = (allocated)) | ((virtualMachineProperties$2 )(virtualMachine)'cpu)) +1 <= ((machineResourceProperties$1 )(first(machineSeq))'cpu)) & (SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))) & ((((virtualMachineProperties$2 )(virtualMachine)'category)) = (allocated)) | ((virtualMachineProperties$2 )(virtualMachine)'mem)) +1 <= ((machineResourceProperties$1 )(first(machineSeq))'mem)) & (SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))) & ((((virtualMachineProperties$2 )(virtualMachine)'category)) = (allocated)) | ((virtualMachineProperties$2 )(virtualMachine)'hdd)) +1 <= ((machineResourceProperties$1 )(first(machineSeq))'hdd)));
((machineSeq) = ({}));
not(((cpu) : ((NAT-{0}))) & ((hdd) : ((NAT-{0}))) & ((mem) : ((NAT-{0}))) & ((client) : (clients$1)));
"Loop initialisation";
"Loop variant is positive";
(0 <= (card(machineResources$1) - size(machineSeq)));
"Variant is decreasing";
((card(machineResources$1) - size({})) +1 <= (card(machineResources$1) - size(machineSeq)));
((card(machineResources$1) - size(tail(machineSeq))) +1 <= (card(machineResources$1) - size(machineSeq)));
"End of loop";
((vmSeq) : (iseq(VIRTUAL_MACHINES)));
#(machine,vm).(((vm) : (VIRTUAL_MACHINES)) & not(((vm) : (virtualMachines$1))) & not(((vm) : (spotVirtualMachines$1))) & not(((vm) : (allocatedVirtualMachines$1))) & ((machine) : (machineResources$1)) & ((machine) : (dom(machineResourceProperties$1))) & (cpu <= (((machineResourceProperties$1 )(machine)'cpu) - SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$1)) & ((((virtualMachineProperties$1 )(virtualMachine)'residentMachine)) = (machine)) & ((((virtualMachineProperties$1 )(virtualMachine)'category)) = (allocated)) | ((virtualMachineProperties$1 )(virtualMachine)'cpu)))) & (hdd <= (((machineResourceProperties$1 )(machine)'hdd) - SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$1)) & ((((virtualMachineProperties$1 )(virtualMachine)'residentMachine)) = (machine)) & ((((virtualMachineProperties$1 )(virtualMachine)'category)) = (allocated)) | ((virtualMachineProperties$1 )(virtualMachine)'hdd)))) & (mem <= (((machineResourceProperties$1 )(machine)'mem) - SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$1)) & ((((virtualMachineProperties$1 )(virtualMachine)'residentMachine)) = (machine)) & ((((virtualMachineProperties$1 )(virtualMachine)'category)) = (allocated)) | ((virtualMachineProperties$1 )(virtualMachine)'mem)))) & (((((virtualMachines$1) \/ (({vm}))) - SET(vm).(((vm) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm)'category)) = (spot)) & ((((virtualMachineProperties$1 )(vm)'residentMachine)) = (machine))))) = (virtualMachines$2)) & ((((SET(vm$1).(((vm$1) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm$1)'category)) = (spot)) & ((((virtualMachineProperties$1 )(vm$1)'residentMachine)) = (machine)))) <<| (((virtualMachineProperties$1) \/ (({((vm) |-> (rec(category$8888 >> allocated,cpu$8888 >> cpu,hdd$8888 >> hdd,mem$8888 >> mem,owner$8888 >> client,residentMachine$8888 >> machine,startTime$8888 >> currentTime$1)))})))))) = (virtualMachineProperties$2)) & (((spotVirtualMachines$1 - SET(vm$1).(((vm$1) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm$1)'category)) = (spot)) & ((((virtualMachineProperties$1 )(vm$1)'residentMachine)) = (machine))))) = (spotVirtualMachines$2)) & ((((allocatedVirtualMachines$1) \/ (({vm})))) = (allocatedVirtualMachines$2)));
#(machine,vm).(((vm) : (VIRTUAL_MACHINES)) & not(((vm) : (virtualMachines$1))) & not(((vm) : (spotVirtualMachines$1))) & not(((vm) : (allocatedVirtualMachines$1))) & ((machine) : (machineResources$1)) & ((machine) : (dom(machineResourceProperties$1))) & (cpu <= (((machineResourceProperties$1 )(machine)'cpu) - SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$1)) & ((((virtualMachineProperties$1 )(virtualMachine)'residentMachine)) = (machine)) & ((((virtualMachineProperties$1 )(virtualMachine)'category)) = (allocated)) | ((virtualMachineProperties$1 )(virtualMachine)'cpu)))) & (hdd <= (((machineResourceProperties$1 )(machine)'hdd) - SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$1)) & ((((virtualMachineProperties$1 )(virtualMachine)'residentMachine)) = (machine)) & ((((virtualMachineProperties$1 )(virtualMachine)'category)) = (allocated)) | ((virtualMachineProperties$1 )(virtualMachine)'hdd)))) & (mem <= (((machineResourceProperties$1 )(machine)'mem) - SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$1)) & ((((virtualMachineProperties$1 )(virtualMachine)'residentMachine)) = (machine)) & ((((virtualMachineProperties$1 )(virtualMachine)'category)) = (allocated)) | ((virtualMachineProperties$1 )(virtualMachine)'mem)))) & (((((virtualMachines$1) \/ (({vm}))) - SET(vm).(((vm) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm)'category)) = (spot)) & ((((virtualMachineProperties$1 )(vm)'residentMachine)) = (machine))))) = (virtualMachines$1)) & ((((SET(vm$1).(((vm$1) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm$1)'category)) = (spot)) & ((((virtualMachineProperties$1 )(vm$1)'residentMachine)) = (machine)))) <<| (((virtualMachineProperties$1) \/ (({((vm) |-> (rec(category$8888 >> allocated,cpu$8888 >> cpu,hdd$8888 >> hdd,mem$8888 >> mem,owner$8888 >> client,residentMachine$8888 >> machine,startTime$8888 >> currentTime$1)))})))))) = (virtualMachineProperties$1)) & (((spotVirtualMachines$1 - SET(vm$1).(((vm$1) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm$1)'category)) = (spot)) & ((((virtualMachineProperties$1 )(vm$1)'residentMachine)) = (machine))))) = (spotVirtualMachines$1)) & ((((allocatedVirtualMachines$1) \/ (({vm})))) = (allocatedVirtualMachines$1)));
(SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))) | ((virtualMachineProperties$2 )(virtualMachine)'cpu)) +1 <= ((machineResourceProperties$1 )(first(machineSeq))'cpu));
(SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))) | ((virtualMachineProperties$2 )(virtualMachine)'mem)) +1 <= ((machineResourceProperties$1 )(first(machineSeq))'mem));
(SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))) | ((virtualMachineProperties$2 )(virtualMachine)'hdd)) +1 <= ((machineResourceProperties$1 )(first(machineSeq))'hdd));
not((SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))) | ((virtualMachineProperties$2 )(virtualMachine)'cpu)) +1 <= ((machineResourceProperties$1 )(first(machineSeq))'cpu)) & (SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))) | ((virtualMachineProperties$2 )(virtualMachine)'mem)) +1 <= ((machineResourceProperties$1 )(first(machineSeq))'mem)) & (SIGMA(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))) | ((virtualMachineProperties$2 )(virtualMachine)'hdd)) +1 <= ((machineResourceProperties$1 )(first(machineSeq))'hdd)));
#(machine,vm).(((vm) : (VIRTUAL_MACHINES)) & not(((vm) : (virtualMachines$1))) & not(((vm) : (spotVirtualMachines$1))) & not(((vm) : (allocatedVirtualMachines$1))) & ((machine) : (machineResources$1)) & ((machine) : (dom(machineResourceProperties$1))) & (cpu <= (((machineResourceProperties$1 )(machine)'cpu) - SIGMA(vm).(((vm) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm)'residentMachine)) = (machine)) | ((virtualMachineProperties$1 )(vm)'cpu)))) & (hdd <= (((machineResourceProperties$1 )(machine)'hdd) - SIGMA(vm).(((vm) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm)'residentMachine)) = (machine)) | ((virtualMachineProperties$1 )(vm)'hdd)))) & (mem <= (((machineResourceProperties$1 )(machine)'mem) - SIGMA(vm).(((vm) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm)'residentMachine)) = (machine)) | ((virtualMachineProperties$1 )(vm)'mem)))) & ((((virtualMachines$1) \/ (({vm})))) = (virtualMachines$2)) & ((((virtualMachineProperties$1) <+ (({((vm) |-> (rec(category$8888 >> spot,cpu$8888 >> cpu,hdd$8888 >> hdd,mem$8888 >> mem,owner$8888 >> client,residentMachine$8888 >> machine,startTime$8888 >> currentTime$1)))})))) = (virtualMachineProperties$2)) & ((((spotVirtualMachines$1) \/ (({vm})))) = (spotVirtualMachines$2)));
#(machine,vm).(((vm) : (VIRTUAL_MACHINES)) & not(((vm) : (virtualMachines$1))) & not(((vm) : (spotVirtualMachines$1))) & not(((vm) : (allocatedVirtualMachines$1))) & ((machine) : (machineResources$1)) & ((machine) : (dom(machineResourceProperties$1))) & (cpu <= (((machineResourceProperties$1 )(machine)'cpu) - SIGMA(vm).(((vm) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm)'residentMachine)) = (machine)) | ((virtualMachineProperties$1 )(vm)'cpu)))) & (hdd <= (((machineResourceProperties$1 )(machine)'hdd) - SIGMA(vm).(((vm) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm)'residentMachine)) = (machine)) | ((virtualMachineProperties$1 )(vm)'hdd)))) & (mem <= (((machineResourceProperties$1 )(machine)'mem) - SIGMA(vm).(((vm) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm)'residentMachine)) = (machine)) | ((virtualMachineProperties$1 )(vm)'mem)))) & ((((virtualMachines$1) \/ (({vm})))) = (virtualMachines$1)) & ((((virtualMachineProperties$1) <+ (({((vm) |-> (rec(category$8888 >> spot,cpu$8888 >> cpu,hdd$8888 >> hdd,mem$8888 >> mem,owner$8888 >> client,residentMachine$8888 >> machine,startTime$8888 >> currentTime$1)))})))) = (virtualMachineProperties$1)) & ((((spotVirtualMachines$1) \/ (({vm})))) = (spotVirtualMachines$1)));
((vm) : (virtualMachines$1));
((vm) : (dom(virtualMachineProperties$1)));
((currentUser$1) : (((admins$1) \/ (({((virtualMachineProperties$1 )(vm)'owner)})))));
((((virtualMachineProperties$1 )(vm)'owner)) : (USERS));
((((virtualMachineProperties$1 )(vm)'owner)) : (dom(finishedInstanceCost$1)));
((((virtualMachineProperties$1 )(vm)'category)) : (dom(instanceRating$1)));
(0 +1 <= ((instanceRating$1 )(((virtualMachineProperties$1 )(vm)'category))'cpu));
(0 +1 <= ((virtualMachineProperties$1 )(vm)'cpu));
(((virtualMachineProperties$1 )(vm)'startTime) <= currentTime$1);
not(((vm) : (virtualMachines$1)) & ((vm) : (dom(virtualMachineProperties$1))) & ((currentUser$1) : (((admins$1) \/ (({((virtualMachineProperties$1 )(vm)'owner)}))))) & ((((virtualMachineProperties$1 )(vm)'owner)) : (USERS)) & ((((virtualMachineProperties$1 )(vm)'owner)) : (dom(finishedInstanceCost$1))) & ((((virtualMachineProperties$1 )(vm)'category)) : (dom(instanceRating$1))) & (0 +1 <= ((instanceRating$1 )(((virtualMachineProperties$1 )(vm)'category))'cpu)) & (0 +1 <= ((virtualMachineProperties$1 )(vm)'cpu)) & (((virtualMachineProperties$1 )(vm)'startTime) <= currentTime$1));
((((finishedInstanceCost$1) <+ (({((((virtualMachineProperties$1 )(vm)'owner)) |-> (((((finishedInstanceCost$1 )(((virtualMachineProperties$1 )(vm)'owner)) + ((((instanceRating$1 )(((virtualMachineProperties$1 )(vm)'category))'cpu) * ((virtualMachineProperties$1 )(vm)'cpu)) * (currentTime$1 - ((virtualMachineProperties$1 )(vm)'startTime)))) + ((((instanceRating$1 )(((virtualMachineProperties$1 )(vm)'category))'hdd) * ((virtualMachineProperties$1 )(vm)'hdd)) * (currentTime$1 - ((virtualMachineProperties$1 )(vm)'startTime)))) + ((((instanceRating$1 )(((virtualMachineProperties$1 )(vm)'category))'mem) * ((virtualMachineProperties$1 )(vm)'mem)) * (currentTime$1 - ((virtualMachineProperties$1 )(vm)'startTime))))))})))) = (((finishedInstanceCost$1) <+ (({((((((({vm})) <<| (virtualMachineProperties$1)) )(vm)'owner)) |-> (((((finishedInstanceCost$1 )(((((({vm})) <<| (virtualMachineProperties$1)) )(vm)'owner)) + ((((instanceRating$1 )(((((({vm})) <<| (virtualMachineProperties$1)) )(vm)'category))'cpu) * ((((({vm})) <<| (virtualMachineProperties$1)) )(vm)'cpu)) * (currentTime$1 - ((((({vm})) <<| (virtualMachineProperties$1)) )(vm)'startTime)))) + ((((instanceRating$1 )(((((({vm})) <<| (virtualMachineProperties$1)) )(vm)'category))'hdd) * ((((({vm})) <<| (virtualMachineProperties$1)) )(vm)'hdd)) * (currentTime$1 - ((((({vm})) <<| (virtualMachineProperties$1)) )(vm)'startTime)))) + ((((instanceRating$1 )(((((({vm})) <<| (virtualMachineProperties$1)) )(vm)'category))'mem) * ((((({vm})) <<| (virtualMachineProperties$1)) )(vm)'mem)) * (currentTime$1 - ((((({vm})) <<| (virtualMachineProperties$1)) )(vm)'startTime))))))})))));
(((virtualMachines$1 - ({vm}))) = (virtualMachines$1));
((((({vm})) <<| (virtualMachineProperties$1))) = (virtualMachineProperties$1));
(((spotVirtualMachines$1 - ({vm}))) = (spotVirtualMachines$1));
(((allocatedVirtualMachines$1 - ({vm}))) = (allocatedVirtualMachines$1));
((((finishedInstanceCost$1) <+ (({((((virtualMachineProperties$1 )(vm)'owner)) |-> (((((finishedInstanceCost$1 )(((virtualMachineProperties$1 )(vm)'owner)) + ((((instanceRating$1 )(((virtualMachineProperties$1 )(vm)'category))'cpu) * ((virtualMachineProperties$1 )(vm)'cpu)) * (currentTime$1 - ((virtualMachineProperties$1 )(vm)'startTime)))) + ((((instanceRating$1 )(((virtualMachineProperties$1 )(vm)'category))'hdd) * ((virtualMachineProperties$1 )(vm)'hdd)) * (currentTime$1 - ((virtualMachineProperties$1 )(vm)'startTime)))) + ((((instanceRating$1 )(((virtualMachineProperties$1 )(vm)'category))'mem) * ((virtualMachineProperties$1 )(vm)'mem)) * (currentTime$1 - ((virtualMachineProperties$1 )(vm)'startTime))))))})))) = (finishedInstanceCost$1));
((machine) : (machineResources$1));
((machine) : (dom(machineResourceProperties$1)));
not(((machine) : (machineResources$1)) & ((machine) : (dom(machineResourceProperties$1))));
((vms$1) = (SET(vm).(((vm) : (virtualMachines$1)) & ((((virtualMachineProperties$1 )(vm)'residentMachine)) = (machine)))));
((totalCpu$1) = (SIGMA(vm).(((vm) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm)'residentMachine)) = (machine)) | ((virtualMachineProperties$1 )(vm)'cpu))));
resourceTypes : POW( VM_CATEGORIES);
((currentUser$1) : (((admins$1) \/ (({user})))));
not(resourceTypes : POW( VM_CATEGORIES) & ((user) : (USERS)) & ((currentUser$1) : (((admins$1) \/ (({user}))))));
((vmList$1) = (SET(vm).(((vm) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm)'owner)) = (user)))));
not(((vm) : (virtualMachines$1)) & ((currentUser$1) : (((admins$1) \/ (({((virtualMachineProperties$1 )(vm)'owner)}))))) & ((((virtualMachineProperties$1 )(vm)'category)) : (dom(instanceRating$1))));
((billing$1) = (((((((instanceRating$1 )(((virtualMachineProperties$1 )(vm)'category))'cpu) * ((virtualMachineProperties$1 )(vm)'cpu)) * (currentTime$1 - ((virtualMachineProperties$1 )(vm)'startTime))) + ((((instanceRating$1 )(((virtualMachineProperties$1 )(vm)'category))'hdd) * ((virtualMachineProperties$1 )(vm)'hdd)) * (currentTime$1 - ((virtualMachineProperties$1 )(vm)'startTime)))) + ((((instanceRating$1 )(((virtualMachineProperties$1 )(vm)'category))'mem) * ((virtualMachineProperties$1 )(vm)'mem)) * (currentTime$1 - ((virtualMachineProperties$1 )(vm)'startTime))))));
((user) : (dom(finishedInstanceCost$1)));
not(((user) : (clients$1)) & ((user) : (dom(finishedInstanceCost$1))) & ((currentUser$1) : (((admins$1) \/ (({user}))))));
((billing$1) = ((SIGMA(vm).(((vm) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm)'owner)) = (user)) & ((((virtualMachineProperties$1 )(vm)'category)) : (dom(instanceRating$1))) | ((((((virtualMachineProperties$1 )(vm)'cpu) * ((instanceRating$1 )(((virtualMachineProperties$1 )(vm)'category))'cpu)) * (currentTime$1 - ((virtualMachineProperties$1 )(vm)'startTime))) + ((((virtualMachineProperties$1 )(vm)'hdd) * ((instanceRating$1 )(((virtualMachineProperties$1 )(vm)'category))'hdd)) * (currentTime$1 - ((virtualMachineProperties$1 )(vm)'startTime)))) + ((((virtualMachineProperties$1 )(vm)'mem) * ((instanceRating$1 )(((virtualMachineProperties$1 )(vm)'category))'mem)) * (currentTime$1 - ((virtualMachineProperties$1 )(vm)'startTime))))) + (finishedInstanceCost$1 )(user))));
((ss) : (((1) .. (card((USERS - ({admin}\/{none})))))));
((ss) : (((1) .. (card(MACHINE_RESOURCES)))));
((ss) : (((1) .. (card(VIRTUAL_MACHINES)))));
"Initialisation is well defined";
(((USERS - ({admin}\/{none}))) : (FIN((USERS - ({admin}\/{none})))));
(((((ss - 1) * card((USERS - ({admin}\/{none})))) + ss)) : (dom((((1) .. (card((USERS - ({admin}\/{none}))))) * (USERS - ({admin}\/{none}))))));
(((((1) .. (card((USERS - ({admin}\/{none}))))) * (USERS - ({admin}\/{none})))) : (((dom((((1) .. (card((USERS - ({admin}\/{none}))))) * (USERS - ({admin}\/{none}))))) +-> (ran((((1) .. (card((USERS - ({admin}\/{none}))))) * (USERS - ({admin}\/{none}))))))));
(((((ss - 1) * card(MACHINE_RESOURCES)) + ss)) : (dom((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES))));
(((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES)) : (((dom((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES))) +-> (ran((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES))))));
(((((ss - 1) * card(VIRTUAL_MACHINES)) + ss)) : (dom((((1) .. (card(VIRTUAL_MACHINES))) * VIRTUAL_MACHINES))));
(((((1) .. (card(VIRTUAL_MACHINES))) * VIRTUAL_MACHINES)) : (((dom((((1) .. (card(VIRTUAL_MACHINES))) * VIRTUAL_MACHINES))) +-> (ran((((1) .. (card(VIRTUAL_MACHINES))) * VIRTUAL_MACHINES))))));
((currentUser) : (admins));
"Operation is well defined";
((userSeq$1) : (seq(ran(userSeq$1))));
not(((userSeq$1) = ({})));
((mrSeq$1) : (seq(ran(mrSeq$1))));
not(((mrSeq$1) = ({})));
((resource) : (machineResources));
((SET(vm).(((vm) : (virtualMachines)) & ((((virtualMachineProperties )(vm)'residentMachine)) = (resource)))) = ({}));
((virtualMachineProperties$1) : (((dom(virtualMachineProperties$1)) +-> (ran(virtualMachineProperties$1)))));
((client) : (clients));
((virtualMachine) : (virtualMachines$2));
((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss))))));
((((virtualMachineProperties$2 )(virtualMachine)'category)) = (allocated));
((vm) : (dom(virtualMachineProperties$2)));
((((virtualMachineProperties$2 )(vm)'category)) = (spot));
((vm) : (dom(((SET(vm$1).(((vm$1) : (dom(virtualMachineProperties$2))) & ((((virtualMachineProperties$2 )(vm$1)'category)) = (spot)) & ((((virtualMachineProperties$2 )(vm$1)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))))) <<| (((virtualMachineProperties$2) \/ (({((first(vmSeq)) |-> (rec(category$8888 >> allocated,cpu$8888 >> cpu,hdd$8888 >> hdd,mem$8888 >> mem,owner$8888 >> client,residentMachine$8888 >> first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))),startTime$8888 >> currentTime$1)))}))))))));
((((((SET(vm$1).(((vm$1) : (dom(virtualMachineProperties$2))) & ((((virtualMachineProperties$2 )(vm$1)'category)) = (spot)) & ((((virtualMachineProperties$2 )(vm$1)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))))) <<| (((virtualMachineProperties$2) \/ (({((first(vmSeq)) |-> (rec(category$8888 >> allocated,cpu$8888 >> cpu,hdd$8888 >> hdd,mem$8888 >> mem,owner$8888 >> client,residentMachine$8888 >> first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))),startTime$8888 >> currentTime$1)))}))))) )(vm)'category)) = (spot));
((%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))) : (seq(ran(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))));
not(((%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))) = ({})));
((machineResources$1) : (FIN(machineResources$1)));
((machineSeq) : (seq(ran(machineSeq))));
((SET(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))) & ((((virtualMachineProperties$2 )(virtualMachine)'category)) = (allocated)))) : (FIN(SET(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))) & ((((virtualMachineProperties$2 )(virtualMachine)'category)) = (allocated))))));
((virtualMachine) : (dom(virtualMachineProperties$2)));
((virtualMachineProperties$2) : (((dom(virtualMachineProperties$2)) +-> (ran(virtualMachineProperties$2)))));
((vmSeq) : (seq(ran(vmSeq))));
not(((vmSeq) = ({})));
((first(machineSeq)) : (dom(machineResourceProperties$1)));
((machineResourceProperties$1) : (((dom(machineResourceProperties$1)) +-> (ran(machineResourceProperties$1)))));
((((SET(vm$1).(((vm$1) : (dom(virtualMachineProperties$2))) & ((((virtualMachineProperties$2 )(vm$1)'category)) = (spot)) & ((((virtualMachineProperties$2 )(vm$1)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))))) <<| (((virtualMachineProperties$2) \/ (({((first(vmSeq)) |-> (rec(category$8888 >> allocated,cpu$8888 >> cpu,hdd$8888 >> hdd,mem$8888 >> mem,owner$8888 >> client,residentMachine$8888 >> first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))),startTime$8888 >> currentTime$1)))})))))) : (((dom(((SET(vm$1).(((vm$1) : (dom(virtualMachineProperties$2))) & ((((virtualMachineProperties$2 )(vm$1)'category)) = (spot)) & ((((virtualMachineProperties$2 )(vm$1)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))))) <<| (((virtualMachineProperties$2) \/ (({((first(vmSeq)) |-> (rec(category$8888 >> allocated,cpu$8888 >> cpu,hdd$8888 >> hdd,mem$8888 >> mem,owner$8888 >> client,residentMachine$8888 >> first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))),startTime$8888 >> currentTime$1)))}))))))) +-> (ran(((SET(vm$1).(((vm$1) : (dom(virtualMachineProperties$2))) & ((((virtualMachineProperties$2 )(vm$1)'category)) = (spot)) & ((((virtualMachineProperties$2 )(vm$1)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))))) <<| (((virtualMachineProperties$2) \/ (({((first(vmSeq)) |-> (rec(category$8888 >> allocated,cpu$8888 >> cpu,hdd$8888 >> hdd,mem$8888 >> mem,owner$8888 >> client,residentMachine$8888 >> first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))),startTime$8888 >> currentTime$1)))}))))))))));
((SET(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss)))))))) : (FIN(SET(virtualMachine).(((virtualMachine) : (virtualMachines$2)) & ((((virtualMachineProperties$2 )(virtualMachine)'residentMachine)) = (first(%(ss).(((ss) : (((1) .. (card(MACHINE_RESOURCES))))) | ((((1) .. (card(MACHINE_RESOURCES))) * MACHINE_RESOURCES) )((((ss - 1) * card(MACHINE_RESOURCES)) + ss))))))))));
((vm) : (virtualMachines));
((vm) : (dom(virtualMachineProperties)));
((currentUser) : (((admins) \/ (({((virtualMachineProperties )(vm)'owner)})))));
((((virtualMachineProperties )(vm)'owner)) : (USERS));
((((virtualMachineProperties )(vm)'owner)) : (dom(finishedInstanceCost)));
((((virtualMachineProperties )(vm)'category)) : (dom(instanceRating)));
(0 +1 <= ((instanceRating )(((virtualMachineProperties )(vm)'category))'cpu));
(0 +1 <= ((virtualMachineProperties )(vm)'cpu));
(((virtualMachineProperties )(vm)'startTime) <= currentTime);
((instanceRating$1) : (((dom(instanceRating$1)) +-> (ran(instanceRating$1)))));
((vm) : (dom(((({vm})) <<| (virtualMachineProperties$1)))));
((((({vm})) <<| (virtualMachineProperties$1))) : (((dom(((({vm})) <<| (virtualMachineProperties$1)))) +-> (ran(((({vm})) <<| (virtualMachineProperties$1)))))));
((((((({vm})) <<| (virtualMachineProperties$1)) )(vm)'owner)) : (dom(finishedInstanceCost$1)));
((finishedInstanceCost$1) : (((dom(finishedInstanceCost$1)) +-> (ran(finishedInstanceCost$1)))));
((((((({vm})) <<| (virtualMachineProperties$1)) )(vm)'category)) : (dom(instanceRating$1)));
((machine) : (machineResources));
((machine) : (dom(machineResourceProperties)));
((((virtualMachineProperties$1 )(vm)'residentMachine)) = (machine));
((SET(vm).(((vm) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm)'residentMachine)) = (machine)))) : (FIN(SET(vm).(((vm) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm)'residentMachine)) = (machine))))));
((currentUser) : (((admins) \/ (({user})))));
((user) : (clients));
((user) : (dom(finishedInstanceCost)));
((((virtualMachineProperties$1 )(vm)'owner)) = (user));
((SET(vm).(((vm) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm)'owner)) = (user)) & ((((virtualMachineProperties$1 )(vm)'category)) : (dom(instanceRating$1))))) : (FIN(SET(vm).(((vm) : (dom(virtualMachineProperties$1))) & ((((virtualMachineProperties$1 )(vm)'owner)) = (user)) & ((((virtualMachineProperties$1 )(vm)'category)) : (dom(instanceRating$1)))))))
END
&
THEORY EnumerateX
END
